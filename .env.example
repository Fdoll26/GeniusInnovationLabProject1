# Copy to `.env.local` and fill in.
# Required values are marked as REQUIRED.

# --- Database (REQUIRED) ---
# Used by `pg` in server-side route handlers and `app/lib/*-repo.ts`.
DATABASE_URL=postgresql://user:password@localhost:5432/dbname

# --- Auth (REQUIRED for real sign-in) ---
# NextAuth uses these in production; for local dev you still typically set them.
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=replace-with-a-long-random-secret

# Google OAuth (required unless you rely on dev auth bypass).
GOOGLE_CLIENT_ID=replace-with-google-client-id
GOOGLE_CLIENT_SECRET=replace-with-google-client-secret

# --- OpenAI (REQUIRED unless stubbing / skipping OpenAI) ---
OPENAI_API_KEY=replace-with-openai-api-key
# Defaults to https://api.openai.com/v1
OPENAI_API_BASE=
# Used for refinement (prompt rewrite + clarifications).
OPENAI_REFINER_MODEL=gpt-4.1-mini
# Used for report summarization; defaults to OPENAI_REFINER_MODEL.
OPENAI_SUMMARY_MODEL=
# Deep Research model name (used for all deep-tier pipeline steps).
OPENAI_DEEP_RESEARCH_MODEL=o3-deep-research
# Optional fallback model name if the primary deep research model is not available.
OPENAI_DEEP_RESEARCH_FALLBACK_MODEL=
# Models used by the non-deep pipeline steps (planning, shortlist, evidence, gap-check).
# These must be real model names. If unset the code defaults to gpt-5-nano/mini/etc.
# which do not exist; set these to avoid 404 errors on those steps.
OPENAI_NANO_MODEL=gpt-4o-mini
OPENAI_MINI_MODEL=gpt-4.1-mini
# Full/pro are used for the deep-tier steps; keep them pointing at the deep research model.
OPENAI_FULL_MODEL=o3-deep-research
OPENAI_PRO_MODEL=o3-deep-research
# Optional: cap tool calls if you want to constrain cost/latency.
OPENAI_MAX_TOOL_CALLS=

# Optional: networking / reliability tuning (milliseconds unless otherwise stated).
OPENAI_REQUEST_TIMEOUT_MS=
OPENAI_HEADERS_TIMEOUT_MS=
OPENAI_BODY_TIMEOUT_MS=
OPENAI_FETCH_RETRIES=
OPENAI_FETCH_RETRY_BASE_DELAY_MS=

# Optional: limit concurrent deep research requests per Next.js instance.
OPENAI_DEEP_RESEARCH_CONCURRENCY=1

# --- Gemini (REQUIRED unless stubbing / skipping Gemini) ---
GEMINI_API_KEY=replace-with-gemini-api-key
# Defaults to https://generativelanguage.googleapis.com/v1beta
GEMINI_API_BASE=
# Legacy fallback for deep model selection.
GEMINI_MODEL=gemini-2.5-pro
# Deep/synthesis model (used by deep-tier steps).
GEMINI_DEEP_MODEL=gemini-2.5-pro
# Fast/scout model (used by fast-tier steps and lightweight helpers).
GEMINI_FAST_MODEL=gemini-2.0-flash
# Optional explicit model for fan-out scout subcalls (defaults to GEMINI_FAST_MODEL).
GEMINI_SUBCALL_MODEL=gemini-2.0-flash

# --- Email (REQUIRED unless stubbing email) ---
SENDGRID_API_KEY=replace-with-sendgrid-api-key
EMAIL_FROM=you@example.com

# --- Rate limiting (OPTIONAL) ---
RATE_LIMIT_WINDOW_SECONDS=60
RATE_LIMIT_MAX_REQUESTS=10

# --- Dev/debug helpers (OPTIONAL) ---
# Enables the Debug Panel client UI when set to "1" or "true".
NEXT_PUBLIC_DEBUG_PANEL=

# These are string booleans: "true" or "false".
DEV_BYPASS_AUTH=false
DEV_STUB_EXTERNALS=false
DEV_STUB_REFINER=false
DEV_STUB_OPENAI=false
DEV_STUB_GEMINI=false
DEV_STUB_EMAIL=false
DEV_STUB_PDF=false
DEV_SKIP_OPENAI=false
DEV_SKIP_GEMINI=false
